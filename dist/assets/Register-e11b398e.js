import{_ as q,i as N,h as S,r as s,x as $,b as f,c as g,k as B,w as V,A as y,d as e,B as l,E as r,C as M,l as R,T as C,F as D,q as F,t as I,p as P,g as T}from"./index-bb11416d.js";import{M as z}from"./Modal-721e8b5c.js";/* empty css                                                              */const o=i=>(P("data-v-a725f09c"),i=i(),T(),i),E={id:"container"},j={id:"all"},A=o(()=>e("div",{id:"title"},"會員註冊",-1)),L=o(()=>e("div",null,"*為必填資料",-1)),G=o(()=>e("label",{for:"email"},"信箱 *",-1)),H=o(()=>e("label",{for:"password"},"密碼 *",-1)),J=o(()=>e("label",{for:"checkPassword"},"確認密碼 *",-1)),K=["pattern"],O={key:0,class:"error-message"},Q=o(()=>e("label",{for:"name"},"姓名 *",-1)),W=o(()=>e("label",{for:"birthday"},"生日 *",-1)),X=o(()=>e("label",{for:"gender"},"性別",-1)),Y=o(()=>e("option",{value:"未選擇"},"未選擇",-1)),Z=o(()=>e("option",{value:"男"},"男",-1)),ee=o(()=>e("option",{value:"女"},"女",-1)),te=o(()=>e("option",{value:"其他"},"其他",-1)),ae=[Y,Z,ee,te],oe=o(()=>e("label",{for:"phoneNumber"},"電話 *",-1)),se=o(()=>e("label",{for:"address"},"地址 *",-1)),le={key:0,type:"submit",value:"註冊"},ne={__name:"Register",setup(i){const k=N("config");S();const p=s(""),d=s(!1),v=s(""),n=s(""),u=s(""),c=s(""),m=s("0000-00-00"),b=s("未選擇"),_=s(""),h=s(""),x=$(()=>v.value&&n.value&&u.value&&n.value===u.value&&c.value&&_.value&&h.value&&m.value!=="0000-00-00"),U=async w=>{w.preventDefault();const t={email:v.value,password:n.value,name:c.value,birthday:m.value,gender:b.value,phoneNumber:_.value,address:h.value};console.log(t);try{(await F(t,`${k.apiUrl}/register`)).result===!0?(p.value=" 註冊成功 將自動跳轉登入畫面 ",d.value=!0,setTimeout(()=>{window.location.href="/Login"},2e3)):(p.value=" 註冊失敗 請重新整理頁面 ",d.value=!0,error.value="註冊失敗")}catch(a){p.value=" 註冊失敗 請重新整理頁面 ",d.value=!0,console.error("處理登入時出現錯誤:",a)}};return(w,t)=>(f(),g(D,null,[d.value?(f(),B(z,{key:0,onClose:t[0]||(t[0]=a=>d.value=!1)},{default:V(()=>[e("p",null,I(p.value),1)]),_:1})):y("",!0),e("div",E,[e("div",j,[A,e("form",{onSubmit:U},[L,G,l(e("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=a=>v.value=a),placeholder:"請填寫完整信箱",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$",required:""},null,512),[[r,v.value]]),H,l(e("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=a=>n.value=a),placeholder:"請填寫完整密碼",required:""},null,512),[[r,n.value]]),J,l(e("input",{type:"password",id:"checkPassword",name:"checkPassword","onUpdate:modelValue":t[3]||(t[3]=a=>u.value=a),placeholder:"請再次填寫密碼",pattern:`^${n.value}$`,required:""},null,8,K),[[r,u.value]]),n.value!==u.value?(f(),g("div",O," 密碼不相同，請再次確認密碼 ")):y("",!0),Q,l(e("input",{type:"text",id:"name",name:"name","onUpdate:modelValue":t[4]||(t[4]=a=>c.value=a),placeholder:"請填寫姓名",required:""},null,512),[[r,c.value]]),W,l(e("input",{type:"date",id:"birthday",name:"birthday","onUpdate:modelValue":t[5]||(t[5]=a=>m.value=a),required:""},null,512),[[r,m.value]]),X,l(e("select",{id:"gender",name:"gender","onUpdate:modelValue":t[6]||(t[6]=a=>b.value=a)},ae,512),[[M,b.value]]),oe,l(e("input",{type:"text",id:"phoneNumber",name:"phoneNumber","onUpdate:modelValue":t[7]||(t[7]=a=>_.value=a),placeholder:"請填寫電話",pattern:"^09\\d{8}$",required:""},null,512),[[r,_.value]]),se,l(e("input",{type:"text",id:"address",name:"address","onUpdate:modelValue":t[8]||(t[8]=a=>h.value=a),placeholder:"請填寫地址",required:""},null,512),[[r,h.value]]),R(C,{name:"slide"},{default:V(()=>[x.value===!0?(f(),g("input",le)):y("",!0)]),_:1})],32)])])],64))}},ie=q(ne,[["__scopeId","data-v-a725f09c"]]);export{ie as default};
