import{_ as F,i as U,l as I,m as M,r as s,o as V,h as j,q as L,s as R,b as o,c as a,k as w,w as B,T as S,j as z,d as t,t as d,v as $,F as v,e as f,f as E,u as C}from"./index-e6bdfac7.js";import{L as G}from"./Loading-dc1e90ea.js";const K={class:"allProduct-container"},O={key:1,class:"allProduct-all"},H=["name"],J={class:"allProduct-detailList"},Q={class:"allProduct-detail-title"},W=["onClick"],X={class:"allProduct-productList"},Y={class:"allProduct-mid"},Z=["onClick"],ee=["src"],te=["onClick"],oe={class:"allProduct-productPrice"},ae={__name:"AllProduct",props:["id"],setup(N){const P=N,i=U("config"),m=I(),x=M();let u=s([]);const k=s({brandType:[{brandType:"Nike"},{brandType:"Adidas"},{brandType:"New Balance"}],categoryType:[{categoryType:"休閒"},{categoryType:"籃球"},{categoryType:"跑步"}],genderType:[{genderType:"女"},{genderType:"男"},{genderType:"男/女"}]}),p=s("所有商品"),y=s(null),A=x.query,_=s(!1),g=s(!0),b=e=>{m.push({name:"Product",params:{id:e},props:{id:e}})},D=e=>{const r=e.brandType??e.categoryType??e.genderType;let l={};e.brandType&&(l.brandType=e.brandType),e.categoryType&&(l.categoryType=e.categoryType),e.genderType&&(l.genderType=e.genderType),m.push({name:"ProductBrand",params:{id:r},props:{id:r},query:l})},h=()=>{_.value=!_.value};return V(async()=>{y.value=P.id;try{let e=await j(`${i.apiUrl}/typeList`);e.品牌=e.brandType,delete e.brandType,e.類型=e.categoryType,delete e.categoryType,e.性別=e.genderType,delete e.genderType,console.log(e),k.value=e}catch(e){console.error("分類資料載入失敗","color: red; font-weight: bold",e)}if(!P.id){const e=["all"];try{const r=await L(e,`${i.apiUrl}/productList`);u.value=r,g.value=!1;return}catch(r){console.error("商品資料載入失敗","color: red; font-weight: bold",r)}}try{const e=await L(A,`${i.apiUrl}/productListByCondition`);u.value=e,console.log("分類已載入:",y.value),p.value=y.value,g.value=!1}catch{console.error("指定分類資料載入失敗","color: red; font-weight: bold",error)}}),(e,r)=>{const l=R("router-link");return o(),a("div",K,[w(S,{name:"fade",mode:"out-in"},{default:B(()=>[g.value===!0?(o(),z(G,{key:0})):(o(),a("div",O,[t("div",{class:"allProduct-styleList-button",onClick:h}," 商品分類"),t("div",{class:E(["allProduct-styleList",{active:_.value}])},[t("div",{class:"allProduct-back",onClick:h}," BACK "),t("div",{name:p.value,class:"allProduct-title"},d(p.value),9,H),t("div",J,[w(l,{to:"/product",class:"allProduct-detail-all"},{default:B(()=>[$("所有商品")]),_:1}),(o(!0),a(v,null,f(k.value,(c,T)=>(o(),a("div",Q,[$(d(T)+" ",1),(o(!0),a(v,null,f(c,(n,q)=>(o(),a("div",{onClick:re=>D(n),key:q,class:"allProduct-detail"},d(n.brandType??n.categoryType??n.genderType),9,W))),128))]))),256))])],2),t("div",X,[t("div",Y,[(o(!0),a(v,null,f(C(u),(c,T)=>(o(),a("div",{key:T,class:"allProduct-productGroup"},[t("div",{class:"allProduct-productPic",onClick:n=>b(c.productID)},[t("img",{src:`${C(i).picUrl}/`+c.imgSrc,alt:"Product Image"},null,8,ee)],8,Z),t("div",{class:"allProduct-productName",onClick:n=>b(c.productID)},d(c.productName),9,te),t("div",oe," $ "+d(c.price),1)]))),128))])])]))]),_:1})])}}},ne=F(ae,[["__scopeId","data-v-27a2cf2f"]]);export{ne as default};
